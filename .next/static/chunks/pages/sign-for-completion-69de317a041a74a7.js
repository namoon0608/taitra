(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[558],{783:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sign-for-completion",function(){return c(2667)}])},9929:function(a,b,c){"use strict";var d=c(5893);c(7294);var e=c(2556),f=c.n(e);b.Z=function(a){var b=a.children,c=a.close;return(0,d.jsx)("div",{className:f().popup,onClick:function(){c()},children:b})}},2667:function(a,b,c){"use strict";c.r(b),c.d(b,{"__N_SSP":function(){return q},default:function(){return r}});var d=c(5893),e=c(7294),f=c(9008),g=c.n(f),h=c(1151),i=c(558),j=c(3806),k=c(1673),l=c.n(k),m=c(7399),n=c(8877),o=c.n(n),p=c(9929),q=!0;function r(a){(0,m.$G)().t;var b=(0,e.useState)(!1),c=b[0],f=b[1],k=(0,e.useState)(null),n=k[0],q=k[1],r=function(){f(!1)},s=(0,e.useRef)({}),t=function(){return s.current.clear()},u=function(){q(s.current.getTrimmedCanvas().toDataURL("image/png")),f(!1)};return(0,d.jsxs)("div",{className:l().container,children:[(0,d.jsxs)(g(),{children:[(0,d.jsx)("title",{children:"TAITRA"}),(0,d.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,d.jsx)("link",{rel:"icon",href:"/img/logo.svg"})]}),(0,d.jsx)(h.Z,{}),(0,d.jsxs)(j.Z,{info:a.info,children:[(0,d.jsx)("h3",{children:"完工簽收"}),(0,d.jsx)("div",{className:l().signItem,children:(0,d.jsxs)("table",{children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{className:l().title,children:[(0,d.jsx)("th",{children:"項次"}),(0,d.jsx)("th",{children:"申請項目"}),(0,d.jsx)("th",{children:"數量"})]})}),(0,d.jsxs)("tbody",{children:[(0,d.jsxs)("tr",{className:l().content,children:[(0,d.jsx)("td",{children:"1"}),(0,d.jsx)("td",{children:"用電110V電源箱 - 單相 110V 15A (1,500W)"}),(0,d.jsx)("td",{children:"1"})]}),(0,d.jsxs)("tr",{className:l().content,children:[(0,d.jsx)("td",{children:"2"}),(0,d.jsx)("td",{children:"用電110V電源箱 - 單相 110V 15A (1,500W)"}),(0,d.jsx)("td",{children:"1"})]}),(0,d.jsxs)("tr",{className:l().content,children:[(0,d.jsx)("td",{children:"3"}),(0,d.jsx)("td",{children:"用電110V電源箱 - 單相 110V 15A (1,500W)"}),(0,d.jsx)("td",{children:"1"})]}),(0,d.jsxs)("tr",{className:l().content,children:[(0,d.jsx)("td",{children:"4"}),(0,d.jsx)("td",{children:"用電110V電源箱 - 單相 110V 15A (1,500W)"}),(0,d.jsx)("td",{children:"1"})]})]})]})}),(0,d.jsxs)("div",{className:l().sign,children:[(0,d.jsxs)("button",{className:l().signBtn,onClick:function(){return f(!0)},children:["驗收簽名",(0,d.jsx)("img",{src:"/img/Vector.svg",width:25,height:21})]}),(0,d.jsx)("div",{className:l().signImg,children:n?(0,d.jsx)("img",{src:n}):null})]}),c?(0,d.jsx)(p.Z,{close:r,children:(0,d.jsxs)("div",{className:l().signature,onClick:function(a){a.stopPropagation()},children:[(0,d.jsx)(o(),{ref:s,canvasProps:{className:"signatureCanvas"}}),(0,d.jsx)("hr",{}),(0,d.jsx)("p",{children:"請於上方簽名"}),(0,d.jsxs)("div",{className:l().signatureBtns,children:[(0,d.jsx)("button",{className:l().buttons,onClick:t,children:"清除重簽"}),(0,d.jsx)("button",{className:l().buttons,onClick:u,children:"確認"})]})]})}):null,(0,d.jsx)("button",{className:l().signCheck,children:"確認"})]}),(0,d.jsx)(i.Z,{})]})}},2556:function(a){a.exports={popup:"Popup_popup__rP7zX"}},2703:function(a,b,c){"use strict";var d=c(414);function e(){}function f(){}f.resetWarningCache=e,a.exports=function(){function a(a,b,c,e,f,g){if(g!==d){var h=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}function b(){return a}a.isRequired=a;var c={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:b,element:a,elementType:a,instanceOf:b,node:a,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:f,resetWarningCache:e};return c.PropTypes=c,c}},5697:function(a,b,c){a.exports=c(2703)()},414:function(a){"use strict";a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},8877:function(a,b,c){!function(b,d){a.exports=d(c(5697),c(7294),c(1518),c(1400))}(this,function(a,b,c,d){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}Object.defineProperty(b,"__esModule",{value:!0});var f=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(1),i=d(h),j=c(2),k=d(j),l=c(3),m=d(l),n=c(4),o=d(n),p=function(a){function b(){var a,c,d,f;!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,b);for(var g=arguments.length,h=Array(g),i=0;i<g;i++)h[i]=arguments[i];return c=d=e(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(h))),d._sigPad=null,d._excludeOurProps=function(){var a=d.props;return a.canvasProps,a.clearOnResize,function(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}(a,["canvasProps","clearOnResize"])},d.getCanvas=function(){return d._canvas},d.getTrimmedCanvas=function(){var a=document.createElement("canvas");return a.width=d._canvas.width,a.height=d._canvas.height,a.getContext("2d").drawImage(d._canvas,0,0),(0,o.default)(a)},d.getSignaturePad=function(){return d._sigPad},d._checkClearOnResize=function(){d.props.clearOnResize&&d._resizeCanvas()},d._resizeCanvas=function(){var a=d.props.canvasProps||{},b=a.width,c=a.height;if(!b||!c){var e=d._canvas,f=Math.max(window.devicePixelRatio||1,1);b||(e.width=e.offsetWidth*f),c||(e.height=e.offsetHeight*f),e.getContext("2d").scale(f,f),d.clear()}},d.on=function(){return window.addEventListener("resize",d._checkClearOnResize),d._sigPad.on()},d.off=function(){return window.removeEventListener("resize",d._checkClearOnResize),d._sigPad.off()},d.clear=function(){return d._sigPad.clear()},d.isEmpty=function(){return d._sigPad.isEmpty()},d.fromDataURL=function(a,b){return d._sigPad.fromDataURL(a,b)},d.toDataURL=function(a,b){return d._sigPad.toDataURL(a,b)},d.fromData=function(a){return d._sigPad.fromData(a)},d.toData=function(){return d._sigPad.toData()},f=c,e(d,f)}return function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,a),g(b,[{key:"componentDidMount",value:function(){this._sigPad=new m.default(this._canvas,this._excludeOurProps()),this._resizeCanvas(),this.on()}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"componentDidUpdate",value:function(){Object.assign(this._sigPad,this._excludeOurProps())}},{key:"render",value:function(){var a=this,b=this.props.canvasProps;return k.default.createElement("canvas",f({ref:function(b){a._canvas=b}},b))}}]),b}(j.Component);p.propTypes={velocityFilterWeight:i.default.number,minWidth:i.default.number,maxWidth:i.default.number,minDistance:i.default.number,dotSize:i.default.oneOfType([i.default.number,i.default.func]),penColor:i.default.string,throttle:i.default.number,onEnd:i.default.func,onBegin:i.default.func,canvasProps:i.default.object,clearOnResize:i.default.bool},p.defaultProps={clearOnResize:!0},b.default=p},function(b,c){b.exports=a},function(a,c){a.exports=b},function(a,b){a.exports=c},function(a,b){a.exports=d}])})},1400:function(a){!function(b,c){a.exports=c()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b){"use strict";function c(a,b,c,d){var e,f,g,h;return(e=a,f=b,g=c,{red:(h=d)[4*(g*f+e)],green:h[4*(g*f+e)+1],blue:h[4*(g*f+e)+2],alpha:h[4*(g*f+e)+3]}).alpha}function d(a,b,d,e){for(var f=a?1:-1,g=a?0:d-1,h=g;a?h<d:h> -1;h+=f)for(var i=0;i<b;i++)if(c(i,h,b,e))return h;return null}function e(a,b,d,e){for(var f=a?1:-1,g=a?0:b-1,h=g;a?h<b:h> -1;h+=f)for(var i=0;i<d;i++)if(c(h,i,b,e))return h;return null}Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(a){var b=a.getContext("2d"),c=a.width,f=a.height,g=b.getImageData(0,0,c,f).data,h=d(!0,c,f,g),i=d(!1,c,f,g),j=e(!0,c,f,g),k=e(!1,c,f,g)-j+1,l=i-h+1,m=b.getImageData(j,h,k,l);return a.width=k,a.height=l,b.clearRect(0,0,k,l),b.putImageData(m,0,0),a}}])})},1518:function(a,b,c){"use strict";/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bézier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bézier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */ function d(a,b,c){this.x=a,this.y=b,this.time=c||new Date().getTime()}function e(a,b,c,d){this.startPoint=a,this.control1=b,this.control2=c,this.endPoint=d}function f(a,b){var c,d,e,g,h,i,j,k,l,m=this,n=b||{};(this.velocityFilterWeight=n.velocityFilterWeight||.7,this.minWidth=n.minWidth||.5,this.maxWidth=n.maxWidth||2.5,this.throttle="throttle"in n?n.throttle:16,this.minDistance="minDistance"in n?n.minDistance:5,this.throttle)?this._strokeMoveUpdate=(c=f.prototype._strokeUpdate,d=this.throttle,j=null,k=0,e||(e={}),l=function(){k=!1===e.leading?0:Date.now(),j=null,i=c.apply(g,h),j||(g=h=null)},function(){var a=Date.now();k|| !1!==e.leading||(k=a);var b=d-(a-k);return g=this,h=arguments,b<=0||b>d?(j&&(clearTimeout(j),j=null),k=a,i=c.apply(g,h),j||(g=h=null)):j|| !1===e.trailing||(j=setTimeout(l,b)),i}):this._strokeMoveUpdate=f.prototype._strokeUpdate,this.dotSize=n.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=n.penColor||"black",this.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)",this.onBegin=n.onBegin,this.onEnd=n.onEnd,this._canvas=a,this._ctx=a.getContext("2d"),this.clear(),this._handleMouseDown=function(a){1===a.which&&(m._mouseButtonDown=!0,m._strokeBegin(a))},this._handleMouseMove=function(a){m._mouseButtonDown&&m._strokeMoveUpdate(a)},this._handleMouseUp=function(a){1===a.which&&m._mouseButtonDown&&(m._mouseButtonDown=!1,m._strokeEnd(a))},this._handleTouchStart=function(a){if(1===a.targetTouches.length){var b=a.changedTouches[0];m._strokeBegin(b)}},this._handleTouchMove=function(a){a.preventDefault();var b=a.targetTouches[0];m._strokeMoveUpdate(b)},this._handleTouchEnd=function(a){a.target===m._canvas&&(a.preventDefault(),m._strokeEnd(a))},this.on()}c.r(b),d.prototype.velocityFrom=function(a){return this.time!==a.time?this.distanceTo(a)/(this.time-a.time):1},d.prototype.distanceTo=function(a){return Math.sqrt(Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2))},d.prototype.equals=function(a){return this.x===a.x&&this.y===a.y&&this.time===a.time},e.prototype.length=function(){for(var a=10,b=0,c=void 0,d=void 0,e=0;e<=a;e+=1){var f=e/a,g=this._point(f,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),h=this._point(f,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(e>0){var i=g-c,j=h-d;b+=Math.sqrt(i*i+j*j)}c=g,d=h}return b},e.prototype._point=function(a,b,c,d,e){return b*(1-a)*(1-a)*(1-a)+3*c*(1-a)*(1-a)*a+3*d*(1-a)*a*a+e*a*a*a},f.prototype.clear=function(){var a=this._ctx,b=this._canvas;a.fillStyle=this.backgroundColor,a.clearRect(0,0,b.width,b.height),a.fillRect(0,0,b.width,b.height),this._data=[],this._reset(),this._isEmpty=!0},f.prototype.fromDataURL=function(a){var b=this,c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},d=new Image,e=c.ratio||window.devicePixelRatio||1,f=c.width||this._canvas.width/e,g=c.height||this._canvas.height/e;this._reset(),d.src=a,d.onload=function(){b._ctx.drawImage(d,0,0,f,g)},this._isEmpty=!1},f.prototype.toDataURL=function(a){var b;if("image/svg+xml"===a)return this._toSVG();for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return(b=this._canvas).toDataURL.apply(b,[a].concat(d))},f.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},f.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},f.prototype.isEmpty=function(){return this._isEmpty},f.prototype._strokeBegin=function(a){this._data.push([]),this._reset(),this._strokeUpdate(a),"function"==typeof this.onBegin&&this.onBegin(a)},f.prototype._strokeUpdate=function(a){var b=a.clientX,c=a.clientY,d=this._createPoint(b,c),e=this._data[this._data.length-1],f=e&&e[e.length-1],g=f&&d.distanceTo(f)<this.minDistance;if(!(f&&g)){var h=this._addPoint(d),i=h.curve,j=h.widths;i&&j&&this._drawCurve(i,j.start,j.end),this._data[this._data.length-1].push({x:d.x,y:d.y,time:d.time,color:this.penColor})}},f.prototype._strokeEnd=function(a){var b=this.points.length>2,c=this.points[0];if(!b&&c&&this._drawDot(c),c){var d=this._data[this._data.length-1],e=d[d.length-1];c.equals(e)||d.push({x:c.x,y:c.y,time:c.time,color:this.penColor})}"function"==typeof this.onEnd&&this.onEnd(a)},f.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},f.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},f.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},f.prototype._createPoint=function(a,b,c){var e=this._canvas.getBoundingClientRect();return new d(a-e.left,b-e.top,c||new Date().getTime())},f.prototype._addPoint=function(a){var b=this.points,c=void 0;if(b.push(a),b.length>2){3===b.length&&b.unshift(b[0]);var d=this._calculateCurveControlPoints(b[0],b[1],b[2]).c2,f=this._calculateCurveControlPoints(b[1],b[2],b[3]).c1,g=new e(b[1],d,f,b[2]),h=this._calculateCurveWidths(g);return b.shift(),{curve:g,widths:h}}return{}},f.prototype._calculateCurveControlPoints=function(a,b,c){var e=a.x-b.x,f=a.y-b.y,g=b.x-c.x,h=b.y-c.y,i={x:(a.x+b.x)/2,y:(a.y+b.y)/2},j={x:(b.x+c.x)/2,y:(b.y+c.y)/2},k=Math.sqrt(g*g+h*h),l=i.x-j.x,m=i.y-j.y,n=k/(Math.sqrt(e*e+f*f)+k),o={x:j.x+l*n,y:j.y+m*n},p=b.x-o.x,q=b.y-o.y;return{c1:new d(i.x+p,i.y+q),c2:new d(j.x+p,j.y+q)}},f.prototype._calculateCurveWidths=function(a){var b=a.startPoint,c=a.endPoint,d={start:null,end:null},e=this.velocityFilterWeight*c.velocityFrom(b)+(1-this.velocityFilterWeight)*this._lastVelocity,f=this._strokeWidth(e);return d.start=this._lastWidth,d.end=f,this._lastVelocity=e,this._lastWidth=f,d},f.prototype._strokeWidth=function(a){return Math.max(this.maxWidth/(a+1),this.minWidth)},f.prototype._drawPoint=function(a,b,c){var d=this._ctx;d.moveTo(a,b),d.arc(a,b,c,0,2*Math.PI,!1),this._isEmpty=!1},f.prototype._drawCurve=function(a,b,c){var d=this._ctx,e=c-b,f=Math.floor(a.length());d.beginPath();for(var g=0;g<f;g+=1){var h=g/f,i=h*h,j=i*h,k=1-h,l=k*k,m=l*k,n=m*a.startPoint.x;n+=3*l*h*a.control1.x,n+=3*k*i*a.control2.x,n+=j*a.endPoint.x;var o=m*a.startPoint.y;o+=3*l*h*a.control1.y,o+=3*k*i*a.control2.y,o+=j*a.endPoint.y;var p=b+j*e;this._drawPoint(n,o,p)}d.closePath(),d.fill()},f.prototype._drawDot=function(a){var b=this._ctx,c="function"==typeof this.dotSize?this.dotSize():this.dotSize;b.beginPath(),this._drawPoint(a.x,a.y,c),b.closePath(),b.fill()},f.prototype._fromData=function(a,b,c){for(var e=0;e<a.length;e+=1){var f=a[e];if(f.length>1)for(var g=0;g<f.length;g+=1){var h=f[g],i=new d(h.x,h.y,h.time),j=h.color;if(0===g)this.penColor=j,this._reset(),this._addPoint(i);else if(g!==f.length-1){var k=this._addPoint(i),l=k.curve,m=k.widths;l&&m&&b(l,m,j)}}else this._reset(),c(f[0])}},f.prototype._toSVG=function(){var a=this,b=this._data,c=this._canvas,d=Math.max(window.devicePixelRatio||1,1),e=c.width/d,f=c.height/d,g=document.createElementNS("http://www.w3.org/2000/svg","svg");g.setAttributeNS(null,"width",c.width),g.setAttributeNS(null,"height",c.height),this._fromData(b,function(a,b,c){var d=document.createElement("path");if(!isNaN(a.control1.x)&&!isNaN(a.control1.y)&&!isNaN(a.control2.x)&&!isNaN(a.control2.y)){var e="M "+a.startPoint.x.toFixed(3)+","+a.startPoint.y.toFixed(3)+" "+("C "+a.control1.x.toFixed(3)+",")+a.control1.y.toFixed(3)+" "+(a.control2.x.toFixed(3)+",")+a.control2.y.toFixed(3)+" "+a.endPoint.x.toFixed(3)+","+a.endPoint.y.toFixed(3);d.setAttribute("d",e),d.setAttribute("stroke-width",(2.25*b.end).toFixed(3)),d.setAttribute("stroke",c),d.setAttribute("fill","none"),d.setAttribute("stroke-linecap","round"),g.appendChild(d)}},function(b){var c=document.createElement("circle"),d="function"==typeof a.dotSize?a.dotSize():a.dotSize;c.setAttribute("r",d),c.setAttribute("cx",b.x),c.setAttribute("cy",b.y),c.setAttribute("fill",b.color),g.appendChild(c)});var h=g.innerHTML;if(void 0===h){var i=document.createElement("dummy"),j=g.childNodes;i.innerHTML="";for(var k=0;k<j.length;k+=1)i.appendChild(j[k].cloneNode(!0));h=i.innerHTML}return"data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="0 0 '+e+" ")+f+'" width="'+e+'" height="'+f+'">'+h+"</svg>")},f.prototype.fromData=function(a){var b=this;this.clear(),this._fromData(a,function(a,c){return b._drawCurve(a,c.start,c.end)},function(a){return b._drawDot(a)}),this._data=a},f.prototype.toData=function(){return this._data},b.default=f}},function(a){a.O(0,[99,372,774,888,179],function(){var b;return a(a.s=783)}),_N_E=a.O()}])